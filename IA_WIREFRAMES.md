# 关键页面信息架构（IA）与交互稿（Wireframes）

> 目标：用最少页面完成“跨设备记录 → 分段汇总 → 到点复盘 → 可检索/可导出”的闭环。  
> 标注说明：`[ ]` 为按钮/入口，`( )` 为信息/状态，`{ }` 为系统行为或规则。

---

## 1) 信息架构（IA）

### 1.1 Windows11（托盘常驻 + 主界面）
```
托盘菜单
 ├─ [开始/暂停记录]
 ├─ [打开面板]
 ├─ [快速复盘]（打开“当前/上一个 block”快速输入）
 ├─ [导出]
 └─ [设置]

主界面（面板）
 ├─ 今日（概览 / Today Top）
 │   ├─ 今日 Top（应用/域名 + 时长 + 图标）
 │   ├─ 当前使用（Focus app / Active tab / Background audio）
 │   └─ 待复盘提示（Review due）
 ├─ 复盘（时间轴 + 搜索）
 │   ├─ block 列表（可搜索/筛选日期）
 │   └─ block 详情（抽屉/子页）
 ├─ 周报表（可选：MVP 可先隐藏入口）
 ├─ 导出
 └─ 设置
     ├─ 隐私级别（L1/L2/L3）& 说明
     ├─ 黑名单（应用/域名）
     ├─ 提醒节奏（间隔/空闲切段/勿扰时段）
     ├─ 数据（存储位置/保留周期/一键清除）
     ├─ 浏览器扩展（安装/状态/采集项）
     ├─ LLM 总结（开关/脱敏级别/模型端点）
     └─ 健康检查（权限/通知/是否断档）
```

### 1.2 Android（采集 + 通知 + 轻量查看）
```
首页（概览）
 ├─ 今日 Top（应用/域名 + 时长）
 ├─ 当前使用（Focus app / Active tab / Background audio）
 ├─ (Review due) [去复盘]
 └─ [设置]

复盘（时间轴 + 搜索）
 ├─ block 列表
 └─ block 详情

block 详情
 ├─ 活动汇总（Top 应用/占比）
 ├─ 复盘内容（我在做什么/产出/下一步）
 ├─ 标签（工作/学习/会议/娱乐…）
 └─ [加入黑名单]（对应用）

通知入口
 ├─ [填写复盘]
 ├─ [延后 10/20/30]
 ├─ [跳过]
 └─ [暂停记录]

设置
 ├─ 权限状态（Usage Access/通知）
 ├─ 提醒节奏（同 Windows）
 ├─ 黑名单（应用）
 ├─ 数据（导出/清除）
 └─ 健康检查（后台限制/电池优化提示）
```

---

## 2) 关键对象与状态（用于界面一致性）

### 2.1 Focus Block（分段）
- block = 一段连续的“活跃时间”聚合结果
- {空闲 ≥ 5 分钟自动结束 block（默认）}
- {到 45 分钟触发复盘提醒：可选择“结束并新开下一段”或“继续累计”}

### 2.2 采集隐私级别（设置中统一入口）
- L1：应用/域名 + 时长（默认）
- L2：窗口标题 / tab 标题（可选）
- L3：完整 URL（高敏，仅白名单）

---

## 3) 交互稿（Wireframes）

### 3.1 Windows 托盘菜单（最常用入口）
```
┌───────────────────────────┐
│ RecorderPhone (托盘)       │
├───────────────────────────┤
│ (正在记录)  今日 3h42m     │
│ [暂停记录]                 │
│ [打开面板]                 │
│ [快速复盘…]                │
│ ───────────────────────── │
│ [导出…]                    │
│ [设置…]                    │
│ [退出]                     │
└───────────────────────────┘
```
交互要点：
- [快速复盘] 永远可用：打开“当前 block/上一个 block”的快速输入弹窗
- [暂停记录] 二段式：暂停 15m / 1h / 直到手动恢复

### 3.2 Windows 首次启动（渐进式授权）
```
Step 1/3：你将得到什么？
┌────────────────────────────────────────┐
│ 自动记录应用/网站时间 → 到点提醒复盘     │
│ 只为你自己使用；默认本地存储，可随时删除 │
│                                        │
│ [开始设置]                              │
└────────────────────────────────────────┘

Step 2/3：隐私级别（可随时修改）
┌────────────────────────────────────────┐
│ 选择你愿意记录的程度：                  │
│  (●) L1 仅应用/域名 + 时长（推荐）       │
│  ( ) L2 + 窗口/Tab 标题                 │
│  ( ) L3 + 完整 URL（仅白名单）          │
│                                        │
│ [继续]                                  │
└────────────────────────────────────────┘

Step 3/3：浏览器扩展（可跳过）
┌────────────────────────────────────────┐
│ 需要更准的“网页 tab”统计吗？            │
│  安装扩展后可记录“当前活跃域名/标题”。   │
│  (默认仅域名；隐私开关在设置里)          │
│                                        │
│ [安装扩展]  [先跳过]                    │
└────────────────────────────────────────┘
```

### 3.3 Windows 面板：今日时间轴（主视图）
```
┌────────────────────────────────────────────────────────────┐
│ 今日 2026-02-15   (正在记录)             [搜索框____] [设置] │
├────────────────────────────────────────────────────────────┤
│ 09:00–09:45  Block #12   (已复盘 ✅)   [查看]                │
│   Top：VSCode 28m | github.com 9m | Slack 4m                │
│   复盘：完成 X 模块接口；下一步补单测                         │
│                                                            │
│ 09:45–10:30  Block #13   (待复盘 ⏳)   [填写复盘]            │
│   Top：Figma 22m | docs.google.com 12m | WeChat 5m          │
│                                                            │
│ 10:30–10:50  (空闲 20m)                                      │
│                                                            │
│ [导出今日…]   [暂停记录]                                     │
└────────────────────────────────────────────────────────────┘
```
交互要点：
- block 行内主动作：`待复盘 → [填写复盘]`，已复盘则变 `查看`
- “空闲段”以灰色显示，不参与复盘提醒
- 顶部状态：记录中/暂停中/断档警告（点击进入健康检查）

### 3.4 Windows：Block 详情（右侧抽屉/子页）
```
┌──────────────────────────────────────────────┐
│ Block #13  09:45–10:30   (待复盘)            │
├──────────────────────────────────────────────┤
│ 活动占比                                      │
│  ███████████ Figma 22m                        │
│  ██████      docs.google.com 12m              │
│  ██          WeChat 5m                         │
│                                              │
│ 复盘（10 秒版）                               │
│ 我在做什么： [__________________________]     │
│ 产出/结果： [__________________________]     │
│ 下一步：     [__________________________]     │
│ 标签： [工作] [会议] [学习] [娱乐] [+]        │
│                                              │
│ 隐私/控制                                     │
│ [把 WeChat 加入黑名单]  [隐藏本段的某些项]     │
│                                              │
│ [保存]  [延后提醒]  [删除本段]                │
└──────────────────────────────────────────────┘
```
交互要点：
- “黑名单”提供三种粒度：仅本段 / 1 小时 / 永久（默认永久需要二次确认）
- [延后提醒] 仅对“待复盘 block”显示

### 3.5 Windows/Android：到点通知（复盘触发点）
```
通知标题：该复盘了（45 分钟）
内容：这段主要在：VSCode 31m、github.com 9m、Slack 3m
操作：[填写复盘] [延后 10m] [跳过] [暂停记录]
```
交互要点：
- [填写复盘] 打开“底部弹窗/轻量页”，输入完成即保存
- [跳过] 会记录“跳过原因”可选（忙/会议/不想被打扰），用于后续改进节奏

### 3.6 Android：首页（轻量时间轴）
```
┌───────────────────────────────┐
│ 今日  (正在记录)    [搜索] [⚙] │
├───────────────────────────────┤
│ 09:00–09:45  ✅  VSCode/浏览器  │
│ 09:45–10:30  ⏳  Figma/Docs     │
│ 10:30–10:50  (空闲)            │
│                               │
│ [导出]  [快速复盘]              │
└───────────────────────────────┘
```
交互要点：
- Android 侧不强调复杂图表，主打“补充复盘与查看”
- [快速复盘] 对应“当前/上一个 block”

### 3.7 设置：隐私级别 + 黑名单（两端一致）
```
设置
┌──────────────────────────────────┐
│ 隐私级别：L1（推荐）              │
│  - 记录应用/域名与时长            │
│  - 不记录窗口标题/完整 URL        │
│  [切换级别…]                      │
│                                  │
│ 黑名单                            │
│  应用：WeChat / TikTok / ...      │
│  域名：youtube.com / ...          │
│  [添加] [导入/导出]               │
│                                  │
│ 提醒节奏                          │
│  间隔：45 分钟  空闲切段：5 分钟   │
│  勿扰：23:00–08:00                │
│                                  │
│ 数据                              │
│  存储位置：本地  保留：90 天       │
│  [导出 Markdown] [一键清除]        │
└──────────────────────────────────┘
```

---

## 4) 关键交互流程（Flow）

### 4.1 首次使用（双端闭环）
1. Windows 安装 → 选择隐私级别（L1 默认）→ 开机自启开关（建议开）→ 进入“今日”
2. Android 安装 → 引导开启 Usage Access + 通知 → 进入“今日”
3. 运行满一段 → 收到通知 → 填写复盘 → “今日时间轴出现第一条可检索记录”

### 4.2 复盘（通知 → 快速输入 → 保存）
通知点击 [填写复盘] → 快速输入页（预填 Top3）→ 输入“产出/下一步”（可空）→ 保存 → block 状态从 ⏳ 变 ✅

### 4.3 隐私控制（从 block 反向治理）
在 block 详情点击某项 → [加入黑名单] → 选择范围（本段/1h/永久）→ {从后续聚合中隐藏；历史可选择“重建聚合”}

---

## 5) M1（Windows-only）最小 UI 版本建议
如果要最快落地：
- 先做 Windows：托盘 + 今日列表 + block 详情抽屉 + 通知复盘输入 + 导出
- Android 先做“通知复盘 + 查看今日列表”（采集用 UsageStats，图表后补）
